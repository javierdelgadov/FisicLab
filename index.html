<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Laboratorio Virtual ‚Äì P√©ndulo y Masa‚ÄìResorte</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

<header class="topbar">
  <div class="brand">
    <div class="dot"></div>

    <div>
      <div class="title">INSTITUCI√ìN EDUCATIVA JULIA RESTREPO</div>
      <div class="subtitle">LABORATORIO VIRTUAL</div>
      <div class="subtitle">Mg. H√©ctor Javier Delgado V. ¬∑ F√≠sico.</div>
      <div class="subtitle">P√©ndulo simple ¬∑ Masa‚ÄìResorte (grado 11)</div>
    </div>
  </div>

  <div class="top-actions">
    <button class="btn ghost" id="btnFull" title="Pantalla completa">‚õ∂</button>
  </div>
</header>

<main class="layout">

  <!-- LADO IZQUIERDO: SIMULACI√ìN -->
  <section class="simArea">
    <div class="tabs">
      <button class="tab active" id="tabPendulo">P√©ndulo</button>
      <button class="tab" id="tabResorte">Masa‚ÄìResorte</button>
    </div>

    <div class="simCard">
      <canvas id="sim"></canvas>

      <div class="simOverlay">
        <div class="simControls">
          <button class="btn primary" id="playToggle">
            <span id="playIco">‚ñ∂</span>
            <span id="playText">Iniciar</span>
          </button>
          <button class="btn" id="reset">‚Üª Reset</button>

          <div class="toggles">
            <label class="chk"><input type="checkbox" id="chkValues" checked> Valores</label>
            <label class="chk"><input type="checkbox" id="chkGuide" checked> Gu√≠a</label>
            <label class="chk"><input type="checkbox" id="chkTrail"> Trazo</label>
            <label class="chk"><input type="checkbox" id="chkRuler" checked> Regla</label>
            <label class="chk"><input type="checkbox" id="chkProtractor"> Transportador</label>
            <label class="chk"><input type="checkbox" id="chkEnergy" checked> Energ√≠a</label>
          </div>
        </div>

        <div class="hint" id="dragHint">üñ±Ô∏è En pausa: arrastra la masa del p√©ndulo para fijar el √°ngulo inicial</div>
      </div>
    </div>
  </section>

  <!-- CENTRO: GR√ÅFICA Y DATOS -->
  <section class="midArea">
    <div class="midHeader">
      <div class="midTitle">Registro y gr√°fica</div>
      <div class="midTools">
        <label class="small">Variable</label>
        <select id="plotVar"></select>
      </div>
    </div>

    <div class="plotCard">
      <canvas id="plot"></canvas>
      <div class="plotNote" id="plotNote">Gr√°fica: ‚Äî vs t</div>
    </div>

    <div class="dataCard">
      <div class="dataTop">
        <div class="dataTitle">Tabla de datos (√∫ltimos 30)</div>
        <div class="dataBtns">
          <label class="chk"><input type="checkbox" id="chkAutoRecord"> Auto</label>
          <button class="btn" id="btnTakeData">üìç Tomar dato</button>
          <button class="btn" id="btnClearData">üßπ Limpiar</button>
          <button class="btn" id="btnExportCSV">‚¨á CSV</button>
        </div>
      </div>

      <div class="tableWrap">
        <table class="dataTable">
          <thead>
            <tr>
              <th>t (s)</th>
              <th id="colMain">‚Äî</th>
              <th>Ec (J)</th>
              <th>Ep (J)</th>
            </tr>
          </thead>
          <tbody id="dataBody"></tbody>
        </table>
      </div>
    </div>
  </section>

  <!-- DERECHA: CONTROLES + LECTURAS -->
  <section class="sideArea">
    <div class="panelCard">
      <div class="panelHead">
        <div class="panelTitle" id="panelTitle">Controles</div>
      </div>
      <div class="panelBody" id="panel"></div>
    </div>

    <div class="panelCard">
      <div class="panelHead">
        <div class="panelTitle">Lecturas</div>
      </div>
      <div class="panelBody">
        <div id="readout" class="readout"></div>

        <div class="miniStats">
          <div class="stat">
            <div class="k">T promedio</div>
            <div class="v" id="Tavg">‚Äî</div>
          </div>
          <div class="stat">
            <div class="k">g estimada</div>
            <div class="v" id="gEst">‚Äî</div>
          </div>
        </div>
      </div>
    </div>

    <div class="panelCard" id="energyPanel">
      <div class="panelHead">
        <div class="panelTitle">Energ√≠a</div>
      </div>
      <div class="panelBody">
        <div class="bars">
          <div class="barRow">
            <div class="lbl">Ep</div>
            <div class="bar"><div class="fill ep" id="barEp"></div></div>
            <div class="val" id="valEp">0 J</div>
          </div>
          <div class="barRow">
            <div class="lbl">Ec</div>
            <div class="bar"><div class="fill ec" id="barEc"></div></div>
            <div class="val" id="valEc">0 J</div>
          </div>
          <div class="barRow">
            <div class="lbl">Em</div>
            <div class="bar"><div class="fill em" id="barEm"></div></div>
            <div class="val" id="valEm">0 J</div>
          </div>
        </div>

        <div class="smallNote">
          Puedes ocultar/mostrar energ√≠a con la casilla ‚ÄúEnerg√≠a‚Äù.
          (Ep: potencial ¬∑ Ec: cin√©tica ¬∑ Em: total)
        </div>
      </div>
    </div>
  </section>

</main>

<script src="app.js"></script>
</body>
</html>
